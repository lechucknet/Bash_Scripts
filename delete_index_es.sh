#!/bin/bash
# gonzalo.navarro@sas.com
export vault_token=/opt/sas/viya/config/etc/SASSecurityCertificateFramework/tokens/elasticsearch-secure/default/vault.token
export ca_cert=/opt/sas/viya/config/etc/SASSecurityCertificateFramework/cacerts/trustedcerts.pem
export key_file=/opt/sas/viya/config/etc/elasticsearch/default/keys/searchguard/sghealthcheck-key.pem
export cert_file=/opt/sas/viya/config/etc/elasticsearch/default/certs/searchguard/sghealthcheck-cert.pem

array=(
sand__pedido_informe__1593029679631
sand__pedido_informe__1593029679631
sand__document_link__1593029675119
sand__personas__empresas__1593033231892
sand__personas__personas__1592902480933
sand__personas__personas__1592902480933
sand__caso__1593029679780
sand__caso__1593029679780
sand__informes2__1593031888067
sand__egmont__1593029691513
sand__egmont__1593029691513
sand__ros_sujetos_obligados__1591836407724
sand__ros_sujetos_obligados__1591836407724
sand__solicitante__1593029679353
sand__solicitante__1593029679353
sand__empresas__empresas__1592902477160
sand__empresas__empresas__1592902477160
sand__mitic_rua_automotores__1593028866987
sand__mitic_rua_automotores__1593028866987
sand__vw_persona_empresa__1593029690467
sand__vw_rosnonegativos__1593029685679
sand__vw_rosnonegativos__1593029685679
sand__ros_sujetos_obligados__1593031919831
sand__empresas__1592900134322
sand__empresas__1592900134322
sand__vw_persona_empresa__1592900124089
sand__vw_persona_empresa__1592900124089
sand__informes__1592905808715
sand__informes__1592905808715
sand__document_link__1592958615739
sand__document_link__1592958615739
sand__informes2__1592167340452
sand__informes2__1592167340452
sand__empresas__1592958625792
sand__mitic_antecedentes__1593029678562
sand__mitic_antecedentes__1593029678562
sand__mitic_dgrp_inmuebles__1592958618369
sand__mitic_dgrp_inmuebles__1592958618369
sand__matriz_riesgo__1593029678521
sand__matriz_riesgo__1593029678521
sand__personas_requeridas__1592167328903
sand__personas_requeridas__1592167328903
sand__transaction_link__1593029675897
sand__ro_financiero__1592900123699
sand__ro_financiero__1592900123699
sand__transaction_link__1591836405052
sand__transaction_link__1591836405052
sand__acuse_recibo__1593031920197
sand__test2__1593029680465
sand__test2__1593029680465
sand__personas__empresas__1592902470873
sand__personas__empresas__1592902470873
sand__entity_link__1593029664799
sand__entity_link__1593029664799
sand__personas__1592900123698
sand__personas__1592900123698
sand__solicitud_nota__1593029679420
sand__solicitud_nota__1593029679420
sand__empresas__1593031921059
sand__acuse_recibo__1591836408538
sand__acuse_recibo__1591836408538
searchguard
sand__alerts__1592173314568
sand__alerts__1592173314568
sand__personas_requeridas__1593031638099
sand__ros_actorreportado__1592900128422
sand__ros_actorreportado__1592900128422
sand__empresas__personas1__1592902461392
sand__empresas__personas1__1592902461392

)

for index in ${!array[*]}; do
curl -XDELETE --cacert ${ca_cert} --key ${key_file} --cert ${cert_file} https://localhost:9200/${array[index]} 
done







